<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arka - Satellite Map of India</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    body, html {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100vh;
      overflow: hidden;
      font-family: 'Arial', sans-serif;
    }
    #map-container {
      width: 100%;
      height: 100vh;
      position: relative;
    }
    #leaflet-map {
      width: 100%;
      height: 100%;
    }
    .navbar {
      background: rgba(0, 0, 0, 0.7);
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }
    .navbar-brand {
      font-size: 2rem;
      font-weight: bold;
      color: #f59e0b !important;
      text-transform: uppercase;
    }
    .nav-link {
      color: white !important;
      font-size: 1.1rem;
      transition: color 0.3s ease, transform 0.3s ease;
    }
    .nav-link:hover {
      color: #f59e0b !important;
      transform: translateY(-2px);
    }
    .custom-div-icon {
      background: transparent !important;
      border: none !important;
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
      <a class="navbar-brand" href="/ARKA/index.html">Arka</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="/ARKA/pages/bus-tracking.html">Bus Tracking</a></li>
          <li class="nav-item"><a class="nav-link" href="/ARKA/pages/booking.html">Book Tickets</a></li>
          <li class="nav-item"><a class="nav-link" href="/ARKA/pages/tourism.html">Tourism</a></li>
          <li class="nav-item"><a class="nav-link" href="/ARKA/pages/trekking.html">Trekking</a></li>
          <li class="nav-item"><a class="nav-link" href="/ARKA/pages/events.html">Events</a></li>
          <li class="nav-item"><a class="nav-link" href="/ARKA/pages/profile.html">Profile</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div id="map-container">
    <div id="leaflet-map"></div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // Initialize Leaflet Map with ArcGIS World Imagery, centered on India
    const map = L.map('leaflet-map').setView([22.5937, 79.9629], 5); // Center on India
    L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
      attribution: 'Powered by ARKA',
      maxZoom: 19,
    }).addTo(map);

    // Fetch the temples data from the JSON file
    fetch('../assets/json/temples.json')
      .then(response => response.json())
      .then(locations => {
        // Add markers with specific emoji icons to the map
        locations.forEach(location => {
          const customEmojiIcon = L.divIcon({
            html: `<span style="font-size: 24px; background: transparent;">${location.emoji}</span>`,
            iconSize: [24, 24], // Reduced size to prevent overlap
            iconAnchor: [12, 24], // Adjusted anchor for smaller size
            popupAnchor: [0, -24], // Adjusted popup position
            className: 'custom-div-icon' // Ensure transparent background
          });

          const marker = L.marker([location.lat, location.lng], { icon: customEmojiIcon }).addTo(map);
          marker.bindPopup(`
            <h3 style="color: #f59e0b;">${location.name}</h3>
            <p>${location.desc}</p>
            ${location.url ? `<a href="${location.url}" target="_blank" style="display: inline-block; background: #f59e0b; color: white; padding: 5px 10px; text-decoration: none; border-radius: 3px;">Visit</a>` : `<p style="color: #f59e0b;">Popup Coming Soon</p>`}
          `);
        });
      })
      .catch(error => {
        console.error('Error fetching temples data:', error);
      });
  </script>
</body>
</html>